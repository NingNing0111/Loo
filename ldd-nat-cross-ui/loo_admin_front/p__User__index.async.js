"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[522],{53693:function(ne,C,r){r.r(C),r.d(C,{default:function(){return W}});var z=r(90228),s=r.n(z),A=r(26068),d=r.n(A),L=r(87999),m=r.n(L),B=r(48305),g=r.n(B),E=r(49394),P=r(5737),a=r(52676),G=function(e){return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(E.Z,{title:e.title,description:e.description,okText:e.okText,cancelText:e.cancelText,onCancel:e.onCancel,onConfirm:e.onConfirm,children:(0,a.jsx)(P.ZP,{danger:e.danger,size:e.size,type:e.type,variant:e.variant,children:e.btnName})})})},R=G,I=R,F=r(40195);function ae(u,e){return S.apply(this,arguments)}function S(){return S=_asyncToGenerator(_regeneratorRuntime().mark(function u(e,l){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/add",_objectSpread({method:"POST",headers:{"Content-Type":"application/json"},data:e},l||{})));case 1:case"end":return n.stop()}},u)})),S.apply(this,arguments)}function M(u,e){return x.apply(this,arguments)}function x(){return x=m()(s()().mark(function u(e,l){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,F.request)("/api/delete",d()({method:"POST",headers:{"Content-Type":"application/json"},data:e},l||{})));case 1:case"end":return n.stop()}},u)})),x.apply(this,arguments)}function D(u,e){return T.apply(this,arguments)}function T(){return T=m()(s()().mark(function u(e,l){return s()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,F.request)("/api/list",d()({method:"GET",params:d()(d()({},e),{},{arg0:void 0},e.arg0)},l||{})));case 1:case"end":return n.stop()}},u)})),T.apply(this,arguments)}var N=r(89999),w=r(39572),H=r(82045),J=r(58807),K=r(32158),Q=r(66373),p=r(75271),V=function(){var e=K.ZP.useMessage(),l=g()(e,2),v=l[0],n=l[1],X=(0,p.useState)({page:1,pageSize:10,total:0}),U=g()(X,2),h=U[0],Y=U[1],b=(0,p.useState)(!1),O=g()(b,2),k=O[0],y=O[1],q=(0,p.useState)([]),Z=g()(q,2),_=Z[0],ee=Z[1],j=function(){var f=m()(s()().mark(function i(c){var o;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.next=3,D(d()({},c));case 3:o=t.sent,ee(o.records),Y(d()(d()({},h),{},{total:o.total})),y(!1);case 7:case"end":return t.stop()}},i)}));return function(c){return f.apply(this,arguments)}}(),re=function(){var f=m()(s()().mark(function i(c){var o;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y(!0),t.next=3,M(c);case 3:o=t.sent,o.code===0?(v.success("\u5220\u9664\u6210\u529F"),j({})):v.error("\u5220\u9664\u5931\u8D25"),y(!1);case 6:case"end":return t.stop()}},i)}));return function(c){return f.apply(this,arguments)}}(),te=[{title:"\u5E8F\u53F7",dataIndex:"index",valueType:"index"},{title:"\u7528\u6237\u540D",dataIndex:"username",valueType:"text"},{title:"\u89D2\u8272",dataIndex:"role",render:function(i){return(0,a.jsx)(Q.Z,{color:"success",children:i})}},{title:"\u64CD\u4F5C",valueType:"option",align:"center",width:200,render:function(i,c){return[(0,a.jsx)(I,{title:"\u5220\u9664\u8B66\u544A",description:"\u4F60\u786E\u5B9A\u8981\u5220\u9664\u8FD9\u6761\u7528\u6237\u4FE1\u606F\u5417\uFF1F",btnName:"\u5220\u9664",size:"small",type:"primary",danger:!0,onConfirm:m()(s()().mark(function o(){return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re(c);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},o)}))},"delServer")]}}];return(0,p.useEffect)(function(){j({})},[]),(0,a.jsxs)(a.Fragment,{children:[n," ",(0,a.jsx)(w._z,{ghost:!0,title:"\u7528\u6237\u7BA1\u7406",children:(0,a.jsx)(H.Z,{headerBordered:!0,bordered:!0,extra:(0,a.jsx)(P.ZP,{type:"primary",icon:(0,a.jsx)(N.Z,{}),children:"\u6DFB\u52A0\u7528\u6237"}),children:(0,a.jsx)(J.Z,{loading:k,pagination:{pageSize:h.pageSize,current:h.page,total:h.total,align:"center"},dataSource:_,columns:te,onSubmit:function(i){j(i)}})})})]})},W=V}}]);
